/*!
/* broadcast-events.js - v1.0.0
 * @description Automatically broadcasts CustomEvent to all iframes
 * @see {@link https://github.com/orca-scan/broadcast-event}
 * @author Orca Scan <orcascan.com>
 * @license MIT
 */
!function(e){"use strict";if("function"!=typeof e.CustomEvent)throw new Error("missing CustomEvent polyfill");if("function"!=typeof e.EventTarget)throw new Error("missing EventTarget polyfill");var t=e.location.href,n=s(t+":"+performance.now()+":"+Math.random()),o=!0;function r(t,o,r){if(-1===(t=String(t||"")||"").indexOf(":"))throw new Error("eventName must be namespaced with :");if(r!==n){var f={originId:r||n,type:t,detail:o,eventId:s(t+":"+performance.now()+":"+Math.random())};if(a("fired:",f),e.dispatchEvent(new CustomEvent(t,o)),e.top!==e)i(e.top,f);else for(var c=0,d=e.frames.length;c<d;c++)i(e.frames[c],f)}else a("suppressed:",t)}function a(){if(o){var e=["broadcast-event["+t+"]"].concat([].slice.call(arguments));console.log.apply(console,e)}}function i(t,n){if(t!==e)try{a("sent:",n),t.postMessage({_broadcast:n},"*")}catch(e){}}function s(e){for(var t=2166136261,n=0;n<e.length;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return Math.abs(t>>>0).toString(36)}e.addEventListener("message",function(t){if(t.source!==e){var n=t.data&&t.data._broadcast;n&&"string"==typeof n.type&&(a("received:",n),r(n.type,n.detail,n.originId))}}),"undefined"!=typeof module&&module.exports?module.exports=r:e.broadcastEvent=r}(this);